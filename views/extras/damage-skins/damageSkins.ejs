<%- include("../../partials/header") %>
<%- include("../../partials/navbar") %>

<div class="container-fluid content d-flex flex-column flex-md-row p-0">
    <%- include("../../partials/sidebar") %>
    <div class="main-content-div col p-0 position-relative">
        <div class="w-100 d-flex align-items-center flex-column px-4 pt-4">
            <div class="w-100 d-flex justify-content-center align-items-center flex-column px-lg-4 pb-3">
                <div class="w-100 d-flex flex-column justify-content-center align-items-center position-relative mb-2">
                    <div class="w-100 d-flex">
                        <div class="w-100 flex-grow-1 border-top border-dark"></div>
                        <h1 class="font-header w-100 text-center m-0 px-0">Damage Skins</h1>
                        <div class="w-100 flex-grow-1 border-top border-dark"></div>
                    </div>
                    <div class="col-12 text-muted text-center font-small mb-1">(New skins added on: <% if(dateUpdated) { %><%= dateUpdated %><% } else { %>N/A<% } %>)</div>
                </div>
                <div class="w-100 mb-3">
                    <h2 class="font-subheader w-100 font-weight-bold text-underline mb-2">Info Sheet Details</h2>

                    <p class="w-100 text-justify">All names are as seen in MapleSEA. Note that not all skins are available in game -- they may not be released or are upcoming releases. Damage skins may have multiple names. Many thanks to <a href="https://github.com/IkaEren" target="_blank">Zamiel</a> and <a href="https://github.com/angelsl/reWZ" target="_blank">reWZ</a> for providing damage skin details that made this page a possibility.</p>

                    <ul class="px-0 mb-4">
                        <p class="mb-1"><i class="fas fa-eye"></i> : View respective damage skin details</p>
                        <p><i class="fas fa-plus"></i> / <i class="fas fa-minus"></i> : Add/Remove selected damage skin from "cart" (up to 20; bottom right icon)</p>
                    </ul>

                    <div class="font-content w-100 d-flex justify-content-start align-items-center flex-wrap mb-4">
                        <% pagesArr.forEach(function(page, index) { %>
                        <div class="skin-select-div col-4 col-sm-3 col-md-2 col-lg-4 col-xl-2 text-center px-2 mb-3">
                            <div class="single-option-select rounded-sm position-relative py-1 <% if(pageNum === index) { %>active<% } %>">
                                <a href="/maple/extras/damage-skins/<%= index %>" class="stretched-link text-decoration-none"><%= page %></a>
                            </div>
                        </div>
                        <% }) %>
                    </div>

                    <%- include("./damage-skin-list") %>
                </div>
            </div>
        </div>
    </div>
    <div class="btn-dmg-skin-modal position-fixed cursor-pointer" data-toggle="modal" data-target="#selected-skins-modal">
        <img src="https://whacky-website.s3-ap-southeast-1.amazonaws.com/images/damage-skins/0/0.icon.png">
        <div class="font-small d-flex justify-content-center align-items-center position-absolute" id="num-selected-skins">0</div>
    </div>
</div>

<div class="modal fade" id="selected-skins-modal" tabindex="-1" role="dialog" aria-labelledby="selectedSkinsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title font-subheader" id="selectedSkinsModalLabel">Selected Damage Skins</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body font-table">
                <div id="no-selected-skin-msg">
                    No skins selected. Go add some and they'll appear here!
                </div>
                <div id="has-selected-skin-msg">
                    Click on "View all selected skin details" to view your selected damage skins' details and other notes. <span class="text-danger">Warning: Possibly large data usage</span>.</p>
                    <div class="d-flex flex-wrap" id="selected-skins-list">

                    </div>
                </div>
            </div>
            <div class="modal-footer" id="selected-skin-options">
                <div class="w-100 d-flex justify-content-between">
                    <button type="button" class="btn btn-sm btn-outline-danger font-weight-bold" id="btn-remove-all-selected">Remove all</button>

                    <form action="/maple/extras/damage-skin-details" method="POST">
                        <input type="hidden" name="selectedSkinNums" id="skin-num-input">
                        <button type="submit" class="btn btn-sm btn-outline-primary font-weight-bold">View all selected skin details</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="/scripts/commonScript.js"></script>
<script type="text/javascript" src="/scripts/extras/dmgSkinScript.js"></script>
<%- include("../../partials/footer") %>